<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Abdul Hakeem Chatbot</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  <style>
    body{background:#0d1117;color:#c9d1d9;margin:0;font-family:Segoe UI}
    .chat{max-width:500px;margin:20px auto;background:#161b22;border-radius:16px;overflow:hidden;border:1px solid #30363d}
    .header{padding:20px;text-align:center;background:#238636;color:white;font-size:20px}
    .messages{height:60vh;overflow-y:auto;padding:20px;background:#0d1117}
    .msg{margin:10px 0;padding:12px 16px;border-radius:12px;max-width:80%}
    .user{background:#1f6feb;color:white;align-self:flex-end}
    .bot{background:#21262d;align-self:flex-start}
    .input{padding:15px;display:flex;gap:10px;background:#161b22}
    input{flex:1;padding:14px;border-radius:12px;border:none;background:#0d1117;color:white;font-size:16px}
    button{padding:14px 20px;background:#238636;color:white;border:none;border-radius:12px;font-weight:bold}
    .flex{display:flex;flex-direction:column}
    .user-msg{ align-self:flex-end; background:#1f6feb; color:white; border-radius:18px 18px 4px 18px}
    .bot-msg{ align-self:flex-start; background:#30363d; border-radius:18px 18px 18px 4px}
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    function Chatbot() {
      const [messages, setMessages] = useState([
        { text: "Ø³Ù„Ø§Ù…! Ù…ÛŒÚº Ø¹Ø¨Ø¯Ø§Ù„Ø­Ú©ÛŒÙ… Ú©Ø§ Chatbot ÛÙˆÚº ðŸ˜Š\nØ¢Ù¾ Ú©Ø§ Ù†Ø§Ù… Ú©ÛŒØ§ ÛÛ’ØŸ", sender: "bot" }
      ]);
      const [input, setInput] = useState("");
      const [userName, setUserName] = useState("");
      const messagesEndRef = useRef(null);

      const scrollToBottom = () => {
        messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
      };

      useEffect(() => {
        scrollToBottom();
      }, [messages]);

      const responses = {
        greetings: ["ÛÛŒÙ„Ùˆ", "Ø³Ù„Ø§Ù…", "ÛØ§Ø¦Û’", "ÛÛŒÙ„Ùˆ Ø¨Ú¾Ø§Ø¦ÛŒ", "ÛØ§Ø¦Û’ Ø¨Ú¾Ø§Ø¦ÛŒ"],
        name: ["Ù…ÛŒØ±Ø§ Ù†Ø§Ù… Ø¹Ø¨Ø¯Ø§Ù„Ø­Ú©ÛŒÙ… ÛÛ’", "Ø¹Ø¨Ø¯Ø§Ù„Ø­Ú©ÛŒÙ…", "Ø­Ú©ÛŒÙ…"],
        todo: ["Ù¹ÙˆÚˆÙˆ Ø§ÛŒÙ¾", "todo app", "Ø§Ù¾Ù†ÛŒ Ù¹ÙˆÚˆÙˆ Ø§ÛŒÙ¾"],
        thanks: ["Ø´Ú©Ø±ÛŒÛ", "ØªÚ¾ÛŒÙ†Ú©Ø³", "Ø¨ÛØª Ù…ÛØ±Ø¨Ø§Ù†ÛŒ"],
        bye: ["Ø§Ù„Ù„Û Ø­Ø§ÙØ¸", "Ø¨Ø§Ø¦ÛŒ", "Ø®Ø¯Ø§ Ø­Ø§ÙØ¸", "Ù¹Ú¾ÛŒÚ© ÛÛ’"]
      };

      const getResponse = (msg) => {
        const lower = msg.toLowerCase();

        if (!userName && lower.includes("Ù†Ø§Ù…") || lower.includes("name")) {
          const name = msg.split(" ").pop();
          setUserName(name);
          return `ÙˆØ§Û ${name} Ø¨ÛØª Ø§Ú†Ú¾Ø§ Ù†Ø§Ù… ÛÛ’! ðŸ˜\nØ§Ø¨ Ø¨ØªØ§Ø¦ÛŒÚº Ú©ÛŒØ³Û’ Ù…Ø¯Ø¯ Ú©Ø±ÙˆÚºØŸ`;
        }

        if (responses.greetings.some(g => lower.includes(g))) {
          return userName ? `${userName} Ø¨Ú¾Ø§Ø¦ÛŒ Ú©ÛŒØ³Û’ ÛÙˆØŸ ðŸ˜Š` : "ÛÛŒÙ„Ùˆ! ðŸ˜Š";
        }
        if (responses.todo.some(t => lower.includes(t))) {
          return "ÙˆØ§Û! Ù…ÛŒØ±ÛŒ Todo App ØªÙˆ Ø¢Ù¾ Ù†Û’ Ø®ÙˆØ¯ Ø¨Ù†Ø§Ø¦ÛŒ ÛÛ’ ðŸ”¥\nhttps://ahpalh72.github.io/my-todo-app\nØ¨ÛØª Ø²Ø¨Ø±Ø¯Ø³Øª Ú©Ø§Ù… Ú©ÛŒØ§!";
        }
        if (responses.thanks.some(t => lower.includes(t))) {
          return "Ø§Ø±Û’ Ú©ÙˆØ¦ÛŒ Ø¨Ø§Øª Ù†ÛÛŒÚº Ø¨Ú¾Ø§Ø¦ÛŒ! Ø®ÙˆØ´ Ø±ÛÙˆ ðŸ˜Š";
        }
        if (responses.bye.some(b => lower.includes(b))) {
          return "Ø§Ù„Ù„Û Ø­Ø§ÙØ¸ Ø¨Ú¾Ø§Ø¦ÛŒ! Ø¬Ø¨ Ø¯Ù„ Ú©Ø±Û’ ÙˆØ§Ù¾Ø³ Ø¢Ø¬Ø§Ù†Ø§ ðŸ˜Š";
        }

        return "Ø¨ÛØª Ø§Ú†Ú¾ÛŒ Ø¨Ø§Øª ÛÛ’! ðŸ˜Š Ø§ÙˆØ± Ø¨ØªØ§Ø¦ÛŒÚº Ú©ÛŒØ§ Ú†Ù„ Ø±ÛØ§ ÛÛ’ØŸ";
      };

      const sendMessage = () => {
        if (!input.trim()) return;
        setMessages([...messages, { text: input, sender: "user" }]);
        setTimeout(() => {
          setMessages(prev => [...prev, { text: getResponse(input), sender: "bot" }]);
        }, 800);
        setInput("");
      };

      return (
        <div className="chat">
          <div className="header">ðŸ¤– Abdul Hakeem Chatbot</div>
          <div className="messages flex">
            {messages.map((m, i) => (
              <div key={i} className={`msg ${m.sender}-msg`}>
                {m.text}
              </div>
            ))}
            <div ref={messagesEndRef} />
          </div>
          <div className="input">
            <input 
              value={input} 
              onChange={e => setInput(e.target.value)}
              onKeyPress={e => e.key === 'Enter' && sendMessage()}
              placeholder="Ù¾ÛŒØºØ§Ù… Ù„Ú©Ú¾ÛŒÚº..."
            />
            <button onClick={sendMessage}>Ø¨Ú¾ÛŒØ¬ÛŒÚº</button>
          </div>
        </div>
      );
    }

    ReactDOM.render(<Chatbot />, document.getElementById('root'));
  </script>
</body>
</html>
